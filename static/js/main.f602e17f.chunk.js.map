{"version":3,"sources":["site/edit.module.css","site/index.module.css","temp/index.module.css","site/title.module.css","list/index.module.css","site/header.module.css","site/nav.module.css","component/header/index.module.css","rule/index.module.css","category/index.module.css","common/useAPI.js","common/getAPI.js","common/router.jsx","component/error/index.jsx","component/header/index.jsx","component/loading/index.jsx","component/detail/index.jsx","common/reducer.jsx","component/editor/redux/index.js","list/index.jsx","site/header.jsx","site/title.jsx","site/nav.jsx","site/edit.jsx","site/index.jsx","rule/index.jsx","category/index.jsx","temp/index.jsx","app.jsx","index.js"],"names":["module","exports","url","useState","state","setState","result","setResult","useEffect","option","success","data","console","log","fail","error","cancelFunc","request","a","fetch","method","headers","response","ok","code","status","message","statusText","time","Date","toGMTString","json","getAPI","err","RouterCtx","React","createContext","handleHash","hash","window","location","startsWith","page","split","slice","length","shift","pop","param","children","route","setRoute","updateRoute","addEventListener","removeEventListener","Provider","value","useContext","title","JSON","stringify","className","styles","head","style","backgroundImage","Text","Link","name","href","target","rel","List","map","content","key","RuleImage","alt","src","Main","Array","isArray","line","type","reducerFunc","reducer","action","func","Error","ReducerCtx","Component","useReducer","dispatch","dispatchFunc","useCallback","useRedux","init","rule","richText","Site","site","category","category2","cate2","forEach","cate","includes","push","concat","item","id","close","c","i","tag","useAPI","body","main","view","Back","back","Category","owner","Item","nav","setNav","select","active","onClick","join","Input","onChange","inputTitle","input","e","ListInput","placeholder","recommands","allowCustom","delimiter","items","filter","index","self","indexOf","list","setList","addItem","text","newItems","newList","inputList","inputListItem","_","removeItem","onKeyUp","event","match","onBlur","inputListItemRecommend","CheckboxInput","inputCheckbox","checked","CategoryInput","categories","child","flat","originData","edit","setEdit","delValue","undefined","ruleParse","setData","update","oldData","changeValue","editBody","v","url2","url3","language","gfw","button","resultText","readOnly","process","articleContent","logo","cat","author","updateTime","comment","Content","articleWrap","article","Body","Rule","image","detailParse","RuleMain","firstCategory","secondCategory","categoryName","categoryData","reduce","p","find","itemList","useData","decodeURI","setCategory","listTab","listMain","post","permalink","dangerouslySetInnerHTML","__html","router","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f602e17f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"edit_button__3-Suh\",\"input\":\"edit_input__oGBXS\",\"inputTitle\":\"edit_inputTitle__1yLl0\",\"inputList\":\"edit_inputList__2AOIv\",\"inputListItem\":\"edit_inputListItem__2EmzC\",\"inputListItemRecommend\":\"edit_inputListItemRecommend__1GBGI\",\"inputCheckbox\":\"edit_inputCheckbox__1ohf2\",\"resultText\":\"edit_resultText__UKlVT\",\"editBody\":\"edit_editBody__HeIwg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"site_main__2cIzU\",\"body\":\"site_body__j8RYy\",\"view\":\"site_view__2rh_D\",\"content\":\"site_content__MCyvL\",\"articleWrap\":\"site_articleWrap__2djiV\",\"article\":\"site_article__1p0XB\",\"articleContent\":\"site_articleContent__1BRG_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"temp_body__MyHKY\",\"main\":\"temp_main__1E4FE\",\"list\":\"temp_list__1ppqS\",\"content\":\"temp_content__3yiUu\",\"listMain\":\"temp_listMain__3Wj2Z\",\"listTab\":\"temp_listTab__1ZcpX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"title_main__1-oib\",\"view\":\"title_view__2A7yP\",\"name\":\"title_name__2utdI\",\"tag\":\"title_tag__2t9vg\",\"back\":\"title_back__2LxO_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"list_body__3VjNP\",\"title\":\"list_title__1U1yx\",\"item\":\"list_item__3BN1d\",\"tag\":\"list_tag__1NXsb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"header_main__NQHqe\",\"view\":\"header_view__2xwsW\",\"name\":\"header_name__2_-kr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"nav_main__w2avg\",\"item\":\"nav_item__1aYns\",\"active\":\"nav_active__2hBoh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"header_head__3-wJP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"rule_body__1wH_W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"category_body__1kehE\"};","\nimport { useEffect, useState } from 'react'\nimport getAPI from './getAPI'\n\nexport default (url)=>{\n  const [state, setState] = useState('load')\n  const [result, setResult] = useState(null)\n  useEffect(()=>getAPI(url, {\n    success: (data)=>{ setResult(data); setState('success') },\n    fail: (err)=>{ setResult(err); setState('fail') },\n  }), [url])\n  return { result, state }\n}\n","\nexport default (url, option = {})=>{\n  if (!option.success){ option.success = (data)=>{ console.log(data) } }\n  if (!option.fail){ option.fail = (error)=>{ console.error(error) } }\n  let { success, fail } = option\n\n  const cancelFunc = ()=>{ success = ()=>{}; fail = ()=>{} }\n  const request = async ()=>{\n    try{\n      const response = await fetch(url, { method: 'GET', headers: { 'Content-Type': 'application/json' } })\n      if (!response.ok){\n        return fail({\n          code: response.status,\n          message: response.statusText,\n          time: new Date().toGMTString(),\n          url,\n        })\n      }\n      const data = await response.json()\n      success(data)\n    }catch(err){\n      fail({ message: err.message, url, time: new Date().toGMTString() })\n    }\n  }\n  request()\n  return cancelFunc\n}\n","\nimport React, { useEffect, useState, useContext } from 'react'\n\nconst RouterCtx = React.createContext(null)\n\nconst handleHash = ()=>{\n  let { hash } = window.location\n  if (!hash.startsWith('#!')){ return { page: 'index' } }\n  [hash] = hash.split('?')\n  hash = hash.slice(2, hash.length).split('/')\n  const page = hash.shift()\n  if (hash.length > 0 && hash[hash.length - 1] === ''){ hash.pop() }\n  return { page, param: hash }\n}\n\nconst Router = ({ children })=>{\n  const [route, setRoute] = useState(handleHash())\n  useEffect(()=>{\n    const updateRoute = ()=>setRoute(handleHash())\n    window.addEventListener('hashchange', updateRoute, false)\n    return ()=>window.removeEventListener('hashchange', updateRoute)\n  }, [])\n  return <RouterCtx.Provider value={route}>{ children }</RouterCtx.Provider>\n}\n\nconst useRoute = ()=>useContext(RouterCtx)\n\nexport default { Router, useRoute }\n","import React from 'react'\n\nexport default ({ error, title })=><div>\n  <div>{title}</div>\n  <pre>{JSON.stringify(error, null, 2)}</pre>\n</div>\n","\nimport React from 'react'\nimport styles from './index.module.css'\n\nexport default ()=><div\n  className={styles.head}\n  style={{ backgroundImage: 'url(assets/frontend/banner.jpg)' }}\n>\n  <h1>\n    <span>RPG制作大师</span>\n    授权素材推广计划\n  </h1>\n</div>\n","\nimport React from 'react'\n\nexport default ()=><>Loading...</>\n","\nimport React from 'react'\n\nconst Text = ({ param })=><>{param[0] ? <p>{param[0]}</p> : <br />}</>\n\nconst Link = ({ param })=>{\n  const name = param[0]\n  let url = param[1]\n  if (!name){ return null }\n  if (!url){ url = name }\n  return <p><a href={url} target=\"_blank\" rel=\"noopener noreferrer\">{name}</a></p>\n}\n\nconst List = ({ param })=><ul>\n  {param.map((content, key)=><li key={key}>{content}</li>)}\n</ul>\n\nconst RuleImage = ({ param })=><p><a href={`#!rule/${param[0]}`}>\n  <img alt={param[1]} src={`./assets/rule/${param[2]}.jpg`} />\n</a></p>\n\nconst Main = ({ content })=>{\n  if (!content || !Array.isArray(content)){ return null }\n  return <>{content.map((line, key)=>{\n    if (!line){ return null }\n    const { type } = line\n    const param = line.param || []\n    if (type === 'text'){ return <Text key={key} param={param} /> }\n    if (type === 'link'){ return <Link key={key} param={param} /> }\n    if (type === 'list'){ return <List key={key} param={param} /> }\n    if (type === 'ruleImage'){ return <RuleImage key={key} param={param} /> }\n    return <p key={key}>Unknow type: {type}</p>\n  })}</>\n}\n\nexport default Main\n","\nimport React, { useReducer, useCallback, useContext } from 'react'\n\nexport default (reducerFunc)=>{\n  const reducer = (state, action)=>{\n    const func = reducerFunc[action.type]\n    if (func){ return func(state, action.data) }\n    throw new Error('Reducer Missing!')\n  }\n  const ReducerCtx = React.createContext(null)\n  const Component = ({ param, children })=>{\n    const [state, dispatch] = useReducer(reducer, param, (data)=>reducer(null, { type: 'init', data }))\n    const dispatchFunc = useCallback((type, data = {})=>{ dispatch({ type, data }) }, [dispatch])\n    return <ReducerCtx.Provider value={{ state, dispatch: dispatchFunc }}>\n      {children}\n    </ReducerCtx.Provider>\n  }\n  const useRedux = ()=>useContext(ReducerCtx)\n  return { Component, useRedux }\n}\n","\nimport { reducer } from '../../../common'\n\nconst func = {\n  init: (state, param)=>({\n    rule: param.rule,\n    richText: param.richText,\n  }),\n}\n\nconst { Component, useRedux } = reducer(func)\nexport { Component, useRedux }\n","\nimport React from 'react'\nimport { Header, Error, Loading } from '../component'\nimport { useAPI } from '../common'\nimport styles from './index.module.css'\n\nconst Site = ({ site })=>{\n  let category = site.category || []\n  if (site.category2){\n    const cate2 = []\n    site.category2.forEach((cate)=>{\n      if (cate[0] === '图片素材'){\n        if (!cate2.includes('其他图片素材')){ cate2.push('其他图片素材') }\n      }else if (cate[0] === '音乐素材'){\n        if (!cate2.includes('其他音乐素材')){ cate2.push('其他音乐素材') }\n      }else if (cate[0] === '脚本素材'){\n        if (!cate2.includes('其他脚本素材')){ cate2.push('其他脚本素材') }\n      }\n    })\n    category = category.concat(cate2)\n  }\n  return <div className={styles.item}>\n    <a href={`#!site/${site.id}`} className={styles.title} target=\"_blank\" rel=\"noopener noreferrer\">\n      {site.close && '【已关站】'}\n      {site.name}\n    </a>\n    <div>{category.map((c, i)=><p className={styles.tag} key={i}>{c}</p>)}</div>\n  </div>\n}\n\nexport default ()=>{\n  const site = useAPI('./api/site.json')\n  return <>\n    <Header />\n    <div className={styles.body}>\n      {site.state === 'fail' && <Error title=\"get site fail\" error={site.result} />}\n      {site.state === 'load' && <Loading />}\n      {site.state === 'success' && <>\n        {site.result.map((item)=><Site key={item.id} site={item} />)}\n      </>}\n    </div>\n  </>\n}\n","\nimport React from 'react'\nimport styles from './header.module.css'\n\nexport default ()=><header className={styles.main}>\n  <div>\n    <div className={styles.view}>\n      <a href=\"./\" className={styles.name}>授权素材推广计划</a>\n    </div>\n  </div>\n</header>\n","\nimport React from 'react'\nimport styles from './title.module.css'\n\nconst Back = ()=>{\n  const style = { backgroundImage: 'url(assets/frontend/back.jpg)' }\n  return <div className={styles.back} style={style} />\n}\n\nconst Category = ({ site })=>{\n  let { category } = site\n  if (site.category2){\n    const cate2 = []\n    site.category2.forEach((cate)=>{\n      if (cate[0] === '图片素材'){\n        if (!cate2.includes('其他图片素材')){ cate2.push('其他图片素材') }\n      }else if (cate[0] === '音乐素材'){\n        if (!cate2.includes('其他音乐素材')){ cate2.push('其他音乐素材') }\n      }else if (cate[0] === '脚本素材'){\n        if (!cate2.includes('其他脚本素材')){ cate2.push('其他脚本素材') }\n      }\n    })\n    category = [...category, ...cate2]\n  }\n  return <div>{category.map((c, i)=><p className={styles.tag} key={i}>{c}</p>)}</div>\n}\n\nexport default ({ data })=><header className={styles.main}>\n  <Back />\n  <div className={styles.view}>\n    <h1 className={styles.name}>\n      {data.name}\n      {data.owner && <span>{data.owner}</span>}\n    </h1>\n    {data.close\n      ? <p>【本素材站已关站或迁移到了其他地址，若有关于本站的新地址请报告给我们】</p>\n      : <Category site={data} />}\n  </div>\n</header>\n","\nimport React from 'react'\nimport styles from './nav.module.css'\n\nconst Item = ({ nav, setNav, select, children })=>{\n  const className = [styles.item]\n  if (nav - 0 === select){ className.push(styles.active) }\n  return <div onClick={()=>setNav(nav - 0)} className={className.join(' ')}>\n    {children}\n  </div>\n}\n\nexport default ({ nav, setNav })=><nav className={styles.main}>\n  <Item nav=\"0\" setNav={setNav} select={nav}>\n    <i className=\"icon info circle\" />站点信息\n  </Item>\n  <Item nav=\"1\" setNav={setNav} select={nav}>\n    <i className=\"icon edit\" />编辑文章\n  </Item>\n</nav>\n","\nimport React, { useState, useCallback } from 'react'\nimport { useAPI } from '../common'\nimport styles from './edit.module.css'\n\nconst Input = ({ title, value, onChange })=><div>\n  <div className={styles.inputTitle}>{title}</div>\n  <input className={styles.input} type=\"text\" value={value || ''} onChange={(e)=>onChange(e.target.value)} />\n</div>\n\nconst ListInput = ({\n  title,\n  value,\n  onChange,\n  placeholder = '输入逗号或回车以确认',\n  recommands = [],\n  allowCustom = true,\n  delimiter = /[,，]/,\n}) => {\n  const items = (typeof value === 'string'\n    ? value.split(delimiter)\n    : (value || []))\n    .filter((id) => id)\n    .filter((item, index, self) => self.indexOf(item) === index)\n  const [list, setList] = useState(items)\n\n  const addItem = (text) => {\n    const newItems = text.split(delimiter)\n      .filter((item) => item !== '' && list.indexOf(item) < 0)\n    const newList = [...list, ...newItems]\n    onChange(newList)\n    setList(newList)\n  }\n\n  const removeItem = (index) => {\n    const newList = [...list.filter((_, i) => i !== index)]\n    setList(newList)\n    onChange(newList)\n  }\n\n  const handleInput = (event) => {\n    if (event.key === 'Enter' || event.target.value.match(delimiter)) {\n      addItem(event.target.value)\n      event.target.value = ''\n    }\n  }\n\n  const handleBlur = (event) => {\n    if (event.target.value){ addItem(event.target.value) }\n    event.target.value = ''\n  }\n\n  return <div>\n    <div className={styles.inputTitle}>{title}</div>\n    <div className={`${styles.input} ${styles.inputList}`}>\n      {list.map((item, index) => <span\n        key={`item-${index}`}\n        className={styles.inputListItem}\n        onClick={() => removeItem(index)}\n      >{item}</span>)}\n      {allowCustom\n        && <input type=\"text\" onKeyUp={handleInput} onBlur={handleBlur} placeholder={placeholder} />}\n    </div>\n    {recommands.length > 0 && <div>\n      {recommands\n        .filter((item) => list.indexOf(item) < 0)\n        .map((item, index) => <span\n          key={`recommend-${index}`}\n          className={`${styles.inputListItem} ${styles.inputListItemRecommend}`}\n          onClick={() => addItem(item)}\n        >{item}</span>)}\n    </div>}\n  </div>\n}\n\n// eslint-disable-next-line jsx-a11y/label-has-associated-control\nconst CheckboxInput = ({ title, value, onChange }) => <label className={`${styles.inputTitle} ${styles.inputCheckbox}`}>\n  <input type=\"checkbox\" checked={value} onChange={(e) => onChange(e.target.checked)} />\n  <span>{title}</span>\n</label>\n\nconst CategoryInput = ({ value, onChange })=>{\n  const { result, state } = useAPI('./api/page/category.json')\n  const categories = state === 'success'\n    ? result.map(({ child }) => (child || []).map(([name]) => name)).flat()\n    : []\n  return <ListInput\n    title=\"站点分类\"\n    value={value}\n    onChange={onChange}\n    recommands={categories}\n    allowCustom={false}\n  />\n}\n\nexport default ({ data: originData })=>{\n  const [edit, setEdit] = useState(true)\n  const [data, setData] = useState(()=>{\n    const delValue = { id: undefined, ruleParse: undefined }\n    return { ...originData, ...delValue }\n  })\n  const update = useCallback((key, value)=>{\n    setData((oldData)=>{\n      const changeValue = {}\n      changeValue[key] = value\n      return { ...oldData, ...changeValue }\n    })\n  }, [])\n  return <div className={styles.editBody}>\n    {edit && <>\n      <Input title=\"站长\" value={data.owner} onChange={(v)=>update('owner', v)} />\n      <Input title=\"站点地址\" value={data.url} onChange={(v)=>update('url', v)} />\n      <Input title=\"素材地址\" value={data.url2} onChange={(v)=>update('url2', v)} />\n      <Input title=\"规约原文\" value={data.url3} onChange={(v)=>update('url3', v)} />\n      <ListInput\n        title=\"语言\"\n        value={data.language}\n        onChange={(v)=>update('language', v)}\n      />\n      <CategoryInput value={data.category} onChange={(v)=>update('category', v)} />\n      <CheckboxInput title=\"是否被墙？\" value={data.gfw} onChange={(v)=>update('gfw', v)} />\n      <CheckboxInput title=\"是否关站？\" value={data.close} onChange={(v)=>update('close', v)} />\n      <br />\n      <br />\n      <div className={styles.button} onClick={()=>setEdit(false)}>提交修改</div>\n    </>}\n    {!edit && <>\n      <div className={styles.button} onClick={()=>setEdit(true)}>继续编辑</div>\n      <textarea\n        className={styles.resultText}\n        value={JSON.stringify(data, null, 2)}\n        onClick={(e)=>e.target.select()}\n        readOnly\n      />\n      <a\n        className={styles.button}\n        href={`${process.env.REACT_APP_SITE_REPO_URL}/edit/master/site/${originData.id}.json`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >提交到 Github</a>\n    </>}\n  </div>\n}\n","\nimport React, { useState } from 'react'\nimport { Error, Loading, Detail } from '../component'\nimport { useAPI } from '../common'\nimport Header from './header'\nimport Title from './title'\nimport Nav from './nav'\nimport Edit from './edit'\nimport styles from './index.module.css'\n\nconst Main = ({ data })=><div className={styles.articleContent}>\n  {data.logo && <div><img src={`./assets/site/${data.logo}`} alt=\"logo\" /></div>}\n  <p>站点名称：{data.name}</p>\n  <p>站长：{data.owner}</p>\n  <p>站点地址：<a href={data.url} target=\"_blank\" rel=\"noopener noreferrer\">{data.url}</a></p>\n  <p>语言：{data.language.join('、')}</p>\n  <p>墙？：{data.gfw ? '有' : '无'}</p>\n  <p>素材内容：\n    {data.category.join('、')}\n    {data.category2 && data.category2.length > 0 && data.category2.map((cat)=>cat[1]).join('、')}\n  </p>\n  <p>素材地址：<a href={data.url2} target=\"_blank\" rel=\"noopener noreferrer\">{data.url2}</a></p>\n  <p>素材利用规约：</p>\n  <div>\n    <p>原文：<a href={data.url3} target=\"_blank\" rel=\"noopener noreferrer\">{data.url3}</a></p>\n    <Detail content={data.ruleParse} />\n    <p>（翻译By {data.author} 确认时间 {data.updateTime}）</p>\n  </div>\n  {data.comment.length > 0 && <>\n    <p>备注：</p>\n    <Detail content={data.comment} />\n  </>}\n</div>\n\nconst Content = ({ data })=>{\n  const [nav, setNav] = useState(0)\n  return <div className={styles.content}>\n    <Title data={data} />\n    <div className={styles.articleWrap}>\n      <div className={`${styles.view} ${styles.article}`}>\n        {nav === 0 && <Main data={data} />}\n        {nav === 1 && <Edit data={data} />}\n        <Nav nav={nav} setNav={setNav} />\n      </div>\n    </div>\n  </div>\n}\nconst Body = ({ id })=>{\n  const site = useAPI(`./api/site/${id}.json`)\n  return <div className={styles.main}>\n    <Header />\n    {site.state === 'success' ? <Content data={site.result} /> : <>\n      <div className={styles.body}>\n        <div className={styles.view}>\n          {site.state === 'fail' && <Error title=\"get site fail\" error={site.result} />}\n          {site.state === 'load' && <Loading />}\n        </div>\n      </div>\n    </>}\n  </div>\n}\n\nexport default ({ id })=>{\n  if (!id){ return null }\n  return <Body id={id} />\n}\n","\nimport React from 'react'\nimport { Header, Error, Detail, Loading } from '../component'\nimport { useAPI } from '../common'\nimport styles from './index.module.css'\n\nconst Rule = ({ rule })=>{\n  if (!rule){ return null }\n  return <div>\n    <h3>{rule.name}</h3>\n    <img src={`./assets/rule/${rule.image}.jpg`} alt={rule.name} />\n    <div><Detail content={rule.detailParse} /></div>\n  </div>\n}\n\nconst RuleMain = ({ id })=>{\n  const rule = useAPI(`./api/rule/${id}.json`)\n  return <>\n    <Header />\n    <div className={styles.body}>\n      {rule.state === 'fail' && <Error title=\"get site fail\" error={rule.result} />}\n      {rule.state === 'load' && <Loading />}\n      {rule.state === 'success' && <Rule rule={rule.result} />}\n      <a href={`${process.env.REACT_APP_SITE_REPO_URL}/edit/master/rule/${id}.json`} target=\"_blank\" rel=\"noopener noreferrer\">在 github 上编辑</a>\n    </div>\n  </>\n}\n\nexport default ({ id })=>{\n  if (!id){ return null }\n  return <RuleMain id={id} />\n}\n","\nimport React from 'react'\nimport { Header, Error, Loading } from '../component'\nimport { useAPI } from '../common'\nimport styles from './index.module.css'\n\nconst Main = ({ category })=><>{category.map((firstCategory, index)=><div key={index}>\n  {firstCategory.name}\n  <ul>\n    {firstCategory.child.map((secondCategory)=>{\n      const categoryName = secondCategory[0]\n      return <li><a href={`#!category/${categoryName}`}>{categoryName}</a></li>\n    })}\n  </ul>\n</div>)}</>\n\nconst Category = ({ category, list, select })=>{\n  const categoryList = category.reduce((p, item)=>p.concat(item.child), [])\n  const categoryData = categoryList.find((item)=>item[0] === select)\n  if (!categoryData){ return null }\n  const itemList = list.filter((item)=>item.category.includes(select))\n  console.log(categoryData)\n  return <>\n    <div>{categoryData[1]}</div>\n    <ul>\n      {itemList.map((item)=><li key={item.id}>\n        <a href={`#!site/${item.id}`} target=\"_blank\" rel=\"noopener noreferrer\">\n          {item.name}\n        </a>\n      </li>)}\n    </ul>\n  </>\n}\n\nconst useData = ()=>{\n  const site = useAPI('./api/site.json')\n  const category = useAPI('./api/page/category.json')\n  if (site.state === 'fail'){\n    return { state: 'fail', type: 'site', result: site.result }\n  }\n  if (category.state === 'fail'){\n    return { state: 'fail', type: 'category', result: category.result }\n  }\n  if (category.state === 'load' || site.state === 'load'){\n    return { state: 'load' }\n  }\n  return {\n    state: 'success',\n    list: site.result,\n    category: category.result,\n  }\n}\nexport default ({ category })=>{\n  const site = useData()\n  return <>\n    <Header />\n    <div className={styles.body}>\n      {site.state === 'fail' && <Error title={`get ${site.type} fail`} error={site.result} />}\n      {site.state === 'load' && <Loading />}\n      {site.state === 'success' && <>\n        {!category && <Main list={site.list} category={site.category} />}\n        {category && <Category list={site.list} category={site.category} select={decodeURI(category)} />}\n      </>}\n    </div>\n  </>\n}\n","\nimport React, { useState } from 'react'\nimport { Header, Error, Loading } from '../component'\nimport { useAPI, router } from '../common'\nimport styles from './index.module.css'\n\nconst List = ({ data })=>{\n  const [category, setCategory] = useState('3e26fe_')\n  return <div>\n    <div className={styles.listTab}>\n      <div onClick={()=>setCategory('3b5924_')}>主站</div>\n      <div onClick={()=>setCategory('3e26fe_')}>仓库</div>\n    </div>\n    <div className={styles.listMain}>{data.map((post)=>{\n      if (!post.permalink.startsWith(category)){ return null }\n      return <p key={post.permalink}><a href={`#!temp/${post.permalink}`}>\n        {post.title}\n      </a></p>\n    })}</div>\n  </div>\n}\n\nconst Content = ({ data, id })=>{\n  if (!id){ return null }\n  const post = data.find((item)=>item.permalink === id)\n  if (!post){ return null }\n  return <div dangerouslySetInnerHTML={{ __html: post.content }} /> // eslint-disable-line\n}\n\nconst Body = ({ data })=>{\n  const route = router.useRoute()\n  return <div className={styles.main}>\n    <div className={styles.list}><List data={data} /></div>\n    <div className={styles.content}><Content data={data} id={route.param[0]} /></div>\n  </div>\n}\n\nexport default ()=>{\n  const data = useAPI(process.env.REACT_APP_TEMP_DATA_URL)\n  return <>\n    <Header />\n    <div className={styles.body}>\n      {data.state === 'fail' && <Error title=\"get site fail\" error={data.result} />}\n      {data.state === 'load' && <Loading />}\n      {data.state === 'success' && <Body data={data.result} />}\n    </div>\n  </>\n}\n","\nimport React from 'react'\nimport { router } from './common'\nimport ListPage from './list'\nimport SitePage from './site'\nimport RulePage from './rule'\nimport CategoryPage from './category'\nimport TempPage from './temp'\n\nconst App = ()=>{\n  const route = router.useRoute()\n  if (route.page === 'index'){ return <ListPage page={1} /> }\n  if (route.page === 'list'){ return <ListPage page={route.param[0]} /> }\n  if (route.page === 'category'){ return <CategoryPage category={route.param[0]} /> }\n  if (route.page === 'site'){ return <SitePage id={route.param[0]} /> }\n  if (route.page === 'rule'){ return <RulePage id={route.param[0]} /> }\n  if (route.page === 'temp'){ return <TempPage param={route.param} /> }\n  return null\n}\n\nexport default ()=><React.StrictMode>\n  <router.Router><App /></router.Router>\n</React.StrictMode>\n","\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport app from './app';\n\nReactDOM.render(app(), document.getElementById('root'))\n"],"sourceRoot":""}